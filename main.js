(()=>{"use strict";var t,e,n,r,o,i={73:(t,e,n)=>{n.d(e,{y:()=>a});var r=n(694),o=n(947),i=n(590),u=n(477),a=function(t){var e=t.resetValidationErrors,n=t.addCard,a=t.user;return function(t){var c=t.submitNewCardFormButton,l=t.placeNameInput,f=t.linkInput,s=t.placesListElement,d=t.newCardFrom,m=t.newCardModal,p=t.addCardButton,v=t.closeNewCardModalButton;(0,o.Jn)({elements:{submitFormButton:c,form:d,openModalButton:p,modal:m,closeModalButton:v},handlers:{onSubmit:function(){var t=c.textContent;return c.textContent=u.d,c.disabled=!0,n({name:l.value,link:f.value}).then(function(t){var e=(0,r.l)(t,a);s.prepend(e),d.reset()}).catch(function(t){return console.error("Card adding failed",t)}).finally(function(){c.textContent=t})},onClose:function(){d.reset(),e(d)},onOpen:i.lQ}})}}},117:(t,e,n)=>{t.exports=n.p+"6666407ac3aa5af1d5de.jpg"},147:(t,e,n)=>{n.d(e,{$:()=>f});var r=n(947),o=n(477);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var u=["avatarImageInput","avatarImageElement","form","submitFormButton"];function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,e,n){return(e=function(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return function(e){var n=t.user,i=t.updateAvatar,a=t.resetValidationErrors,l=t.disableButton,f=e.avatarImageInput,s=e.avatarImageElement,d=e.form,m=e.submitFormButton,p=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,u),v=function(t){s.style.backgroundImage="url('".concat(t,"')"),f.value=t};f.value=n.avatar,v(n.avatar),(0,r.Jn)({elements:c({form:d,submitFormButton:m},p),handlers:{onSubmit:function(){var t=m.textContent;return m.textContent=o.d,m.disabled=!0,i(f.value).then(v).catch(function(t){return console.error("Avatar update failed",t)}).finally(function(){m.textContent=t})},onOpen:function(){f.value=n.avatar,l(m)},onClose:function(){return a(d)}}})}}},160:(t,e,n)=>{n.d(e,{J:()=>o});var r=n(672),o=function(t){var e=t.inputBaseClass,n=t.disabledSubmitButtonClass,o=t.invalidInputClass,c=t.visibleValidationErrorClass,l=t.getInputErrorMessageElementClass,f=function(t,e){var n=(0,r.gU)(l(e.id),t);e.classList.remove(o),d(n)},s=function(t,e){t.textContent=e,t.classList.add(c)},d=function(t){t.classList.remove(c),t.textContent=""},m=function(t){var n=function(t){return Array.from(t.querySelectorAll(".".concat(e)))}(t),a=t.querySelector('button[type="submit"]');b(n,a),n.forEach(function(e){e.addEventListener("input",function(){!function(t,e){i(e)?f(t,e):function(t,e,n){var i=(0,r.gU)(l(e.id),t);e.classList.add(o),s(i,n)}(t,e,u(e))}(t,e),b(n,a)})})},p=function(t){t.disabled=!0,t.classList.add(n)},v=function(t){t.disabled=!1,t.classList.remove(n)},b=function(t,e){return a(t)?void p(e):void v(e)};return{disableButton:p,enableButton:v,toggleButtonState:b,enableValidation:function(){Array.from(document.forms).forEach(function(t){m(t)})},resetValidationErrors:function(t){Array.from(t.querySelectorAll(".".concat(e))).forEach(function(e){return f(t,e)})}}},i=function(t){return t.validity.valid},u=function(t){var e=t.validity.patternMismatch?t.dataset.patternMismatchErrorMessage:"";return""!==e?e:t.validationMessage},a=function(t){return t.some(function(t){return!t.validity.valid})}},191:(t,e,n)=>{n.d(e,{t:()=>b});var r=n(694),o=n(947),i=n(672),u=n(590),a=n(477);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e,n){return(e=function(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return t.classList.contains("card__like-button_is-active")},s=function(t){var e=t.addCardLike,n=t.removeCardLike;return function(t){var o,i=f(t)?n:e,a=f(t)?u.Kt:u.GV,c=t.closest(".card"),l=null==c||null===(o=c.dataset)||void 0===o?void 0:o.id;if(l){var s=(0,r.Z)(c);t.disabled=!0,i(l).then(function(){!function(t){t.classList.toggle("card__like-button_is-active")}(t),s.textContent=a(+s.textContent).toString()}).catch(function(t){return console.error("Toggle like failed",t)}).finally(function(){t.disabled=!1})}}},d="like",m="delete",p="image",v=Symbol("UNKNOWN_BUTTON_TYPE"),b=function(t){return function(e){var n,c,f=t.cards,b=t.user,y=t.deleteCard,g=t.addCardLike,h=t.removeCardLike,O=e.placesListElement,C=e.imageModal,_=e.closeImageModalButton,E=e.imageModalImage,P=e.imageModalTitleElement,S=e.deleteCardModal,w=e.closeDeleteCardModalButton,j=e.deleteCardConfirmButton,k=(0,o.Vg)({elements:{modal:C,closeModalButton:_},handlers:{onClose:function(){E.src="",E.alt="",P.textContent=""},onOpen:u.lQ}}).open,L=function(){n=void 0},T=(0,o.Vg)({elements:{modal:S,closeModalButton:w},handlers:{onClose:L,onOpen:u.lQ}}),B=T.open,x=T.close;return j.addEventListener("click",function(){if(n){var t=j.textContent;j.textContent=a.$,j.disabled=!0,y(n).then(function(){return t=n,void(null==(e=(0,i.aQ)(t))||e.remove());var t,e}).catch(function(t){return console.error("Card deletion failed",t)}).finally(function(){L(),x(),j.textContent=t,j.disabled=!1})}}),(0,u.L3)((0,u.le)(function(t,e){return function(n){return(0,u.L3)((0,u.Tj)(function(t){return(0,r.l)(t,e)}),i.QZ,(0,i.S2)(n))(t)}}(f,b)),(c={onDeleteButtonClick:function(t){B(),n=function(t){var e;return null===(e=t.closest(".card"))||void 0===e?void 0:e.dataset.id}(t)},onLikeButtonClick:s({addCardLike:g,removeCardLike:h}),onImageClick:function(t){var e,n,r;n=(e={link:t.src,name:t.alt}).link,r=e.name,E.src=n,E.alt=r,P.textContent=r,k()}},function(t){var e,n,r,o,i=(n=(e=c).onDeleteButtonClick,r=e.onLikeButtonClick,o=e.onImageClick,function(t){var e=function(t){return t.target instanceof Element?t.target.closest(".card__delete-button, .card__like-button, .card__image"):null}(t);if(e){var i,u=l(l(l({},m,n),d,r),p,o)[function(t){return t.classList.contains("card__delete-button")}(i=e)?m:function(t){return t.classList.contains("card__like-button")}(i)?d:function(t){return t.classList.contains("card__image")}(i)?p:v];null==u||u(e)}});t.addEventListener("click",i)}))(O)}}},292:(t,e,n)=>{n.d(e,{e:()=>o});var r=n(619),o=function(t){var e=t.baseUrl,n=t.authToken,o="".concat(e,"/cards"),u="".concat(o,"/likes"),a=(0,r.A2)(n);return{getCards:function(){return fetch(o,(0,r.Ef)(n)).then((0,r.P9)(function(t){return"cards request returns not ok status: ".concat(t)}))},addCard:function(t){var e=t.name,n=t.link;return fetch(o,a({name:e,link:n})).then((0,r.P9)(function(t){return"card adding request returns not ok status: ".concat(t)}))},deleteCard:function(t){return fetch("".concat(o,"/").concat(t),(0,r.FV)(n)).then((0,r.P9)(function(t){return"card deletion request returns not ok status: ".concat(t)}))},addCardLike:function(t){return fetch("".concat(u,"/").concat(t),(0,r.L6)(n)).then((0,r.P9)(function(t){return"card like adding request returns not ok status: ".concat(t)})).then(i)},removeCardLike:function(t){return fetch("".concat(u,"/").concat(t),(0,r.FV)(n)).then((0,r.P9)(function(t){return"card like removing request returns not ok status: ".concat(t)})).then(i)}}},i=function(t){return t.likes.length}},346:(t,e,n)=>{n.d(e,{D:()=>o});var r=n(827),o={baseUrl:r.C1,authToken:r.$x}},477:(t,e,n)=>{n.d(e,{$:()=>o,d:()=>r});var r="Сохранение...",o="Удаление..."},497:(t,e,n)=>{n.a(t,async(t,e)=>{try{n(117),n(576);var r=n(292),o=n(710),i=n(346),u=n(947),a=n(672),c=n(590),l=n(160),f=n(147),s=n(73),d=n(191),m=n(877);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t,e){if(t){if("string"==typeof t)return M(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return a}}function A(t){if(Array.isArray(t))return t}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach(function(e){F(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function F(t,e,n){return(e=q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t){var e=H(t,"string");return"symbol"==B(e)?e:e+""}function H(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var p=function(){var t=(0,a.gU)("popup_type_new-card",document),e=(0,a.gU)("popup_type_image",document),n=(0,a.UJ)("new-place"),r=(0,a.gU)("popup_type_delete-card",document);return{newCardModal:t,imageModal:e,newCardFrom:n,deleteCardModal:r,placesListElement:(0,a.gU)("places__list",document),placeNameInput:(0,a.gV)(n,"place-name"),linkInput:(0,a.gV)(n,"link"),addCardButton:(0,a.gU)("profile__add-button",document),closeNewCardModalButton:(0,u.QH)(t),closeImageModalButton:(0,u.QH)(e),submitNewCardFormButton:(0,a.vq)(n),imageModalImage:(0,a.gU)("popup__image",document),imageModalTitleElement:(0,a.gU)("popup__caption",document),closeDeleteCardModalButton:(0,u.QH)(r),deleteCardConfirmButton:(0,a.vq)(r)}},v=(0,l.J)({inputBaseClass:"popup__input",disabledSubmitButtonClass:"popup__button_disabled",invalidInputClass:"popup__input_type_error",visibleValidationErrorClass:"popup__input-error_active",getInputErrorMessageElementClass:function(t){return"".concat(t,"-error")}}),b=v.enableValidation,y=v.resetValidationErrors,g=v.disableButton,h=function(){var t=(0,a.gU)("popup_type_edit",document),e=(0,a.UJ)("edit-profile");return{modal:t,form:e,openModalButton:(0,a.gU)("profile__edit-button",document),closeModalButton:(0,u.QH)(t),nameInput:(0,a.gV)(e,"name"),descriptionInput:(0,a.gV)(e,"description"),submitFormButton:(0,a.vq)(e),profileTitleElement:(0,a.gU)("profile__title",document),profileDescriptionElement:(0,a.gU)("profile__description",document)}},O=function(){var t=(0,a.gU)("popup_type_edit-avatar",document),e=(0,a.UJ)("edit-avatar"),n=(0,a.gU)("profile__image",document);return{modal:t,form:e,avatarImageElement:n,openModalButton:n,closeModalButton:(0,u.QH)(t),submitFormButton:(0,a.vq)(e),avatarImageInput:(0,a.gV)(e,"avatar-link")}},C=(0,o.u)(i.D),_=C.getUser,E=C.updateUser,P=C.updateAvatar,S=(0,r.e)(i.D),w=S.getCards,j=S.addCard,k=S.deleteCard,L=S.addCardLike,T=S.removeCardLike;b(),await Promise.all([_(),w()]).then(function(t){var e,n=A(e=t)||I(e,2)||U(e,2)||x(),r=n[0],o=n[1];!function(t){var e=t.user;(0,c.L3)(h,(0,m.P)({user:e,resetValidationErrors:y,updateUser:E,disableButton:g}))()}({user:r}),function(t){var e=t.user;(0,c.L3)(O,(0,f.$)({user:e,resetValidationErrors:y,updateAvatar:P,disableButton:g}))()}({user:r}),function(t){var e=t.user,n=t.cards,r={resetValidationErrors:y,addCard:j,deleteCard:k,addCardLike:L,removeCardLike:T};(0,c.L3)(p,(0,c.le)((0,d.t)(V(V({},r),{},{user:e,cards:n}))),(0,s.y)(V(V({},r),{},{user:e,cards:n})))()}({user:r,cards:o})}),e()}catch(N){e(N)}},1)},576:(t,e,n)=>{t.exports=n.p+"fc3e6875d825f899a98d.svg"},590:(t,e,n)=>{n.d(e,{GV:()=>l,Kt:()=>f,L3:()=>o,Tj:()=>i,lQ:()=>r,le:()=>u,vA:()=>c,z7:()=>a});var r=function(){},o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce(function(t,e){return e(t)},t)}},i=function(t){return function(e){return e.map(t)}},u=function(t){return function(e){return t(e),e}},a=function(t,e){return function(n){return t(n)?e(n):n}},c=function(t,e){if(!t)throw new Error("Assertion error: ".concat(e),{})},l=function(t){return t+1},f=function(t){return t-1}},619:(t,e,n)=>{n.d(e,{A2:()=>s,Ef:()=>p,FV:()=>d,L6:()=>m,P9:()=>l,cZ:()=>f});var r=n(827);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return(e=function(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(t){return a({},r.d0.AUTH,t)},l=function(t){return function(e){return e.ok?e.json():Promise.reject(new Error(t(e.status)))}},f=function(t){return function(e){return{method:r.B1.PATCH,headers:u(u({},c(t)),r.TX),body:JSON.stringify(e)}}},s=function(t){return function(e){return{method:r.B1.POST,headers:u(u({},c(t)),r.TX),body:JSON.stringify(e)}}},d=function(t){return{method:r.B1.DELETE,headers:c(t)}},m=function(t){return{method:r.B1.PUT,headers:c(t)}},p=function(t){return{method:r.B1.GET,headers:c(t)}}},672:(t,e,n)=>{n.d(e,{F_:()=>c,QZ:()=>a,S2:()=>s,UJ:()=>i,aQ:()=>b,b:()=>m,c3:()=>l,eX:()=>f,gU:()=>o,gV:()=>y,n5:()=>d,tf:()=>u,vq:()=>v});var r=n(590),o=function(t,e){var n=e.querySelector(".".concat(t));return(0,r.vA)(n instanceof HTMLElement,"element with class name: ".concat(t," not found")),n},i=function(t){var e=document.forms[t];return(0,r.vA)(e instanceof HTMLFormElement,"form with name: ".concat(t," not found")),e},u=function(t){return function(){var e=document.getElementById(t);return(0,r.vA)(e instanceof HTMLTemplateElement,"template element is not an HTMLTemplateElement"),e}},a=function(t){return t.reduce(function(t,e){return t.appendChild(e),t},p())},c=function(t){var e=t.src,n=t.alt;return function(t){t.src=e,t.alt=n}},l=function(t){return function(e){e.textContent=t}},f=function(t,e){return function(n){n.key===t&&e()}},s=function(t){return function(e){return t.appendChild(e)}},d=function(t){return t.content.cloneNode(!0)},m=function(t){return t.firstElementChild},p=function(){return document.createDocumentFragment()},v=function(t){return o("button",t)},b=function(t){return document.querySelector('[data-id="'.concat(CSS.escape(String(t)),'"]'))},y=function(t,e){var n=t.elements[e];return(0,r.vA)(n instanceof HTMLElement,"form element with name: ".concat(e," not found")),n}},694:(t,e,n)=>{n.d(e,{Z:()=>c,l:()=>m});var r=n(672),o=n(590),i=(0,r.tf)("card-template",document),u=function(t){return(0,r.gU)("card__image",t)},a=function(t){return(0,r.gU)("card__title",t)},c=function(t){return(0,r.gU)("card__like-count",t)},l=function(t){return(0,r.gU)("card__like-button",t)},f=function(t){t.classList.add("card__like-button_is-active")},s=function(t){t.classList.remove("card__like-button_is-active")},d=(0,o.L3)(function(t){return(0,r.gU)("card__delete-button",t)},function(t){t.disabled=!0,t.classList.add("card__delete-button_disabled")}),m=function(t,e){var n,m,p,v,b,y,g,h=void 0!==t.likes.find(function(t){return t._id===e._id});return(0,o.L3)(i,r.n5,r.b,(0,o.le)((g=t._id,function(t){t.dataset.id=g})),(0,o.le)((b=(v=t).name,y=v.link,(0,o.L3)(u,(0,r.F_)({src:y,alt:b})))),(0,o.le)((p=t.name,(0,o.L3)(a,(0,r.c3)(p)))),(0,o.le)((m=t.likes.length,(0,o.L3)(c,(0,r.c3)(m.toString())))),(0,o.le)((n=h,function(t){var e=n?f:s;return(0,o.L3)(l,e)(t)})),(0,o.le)((0,o.z7)(function(){return t.owner._id!==e._id},d)))()}},710:(t,e,n)=>{n.d(e,{u:()=>o});var r=n(619),o=function(t){var e=t.baseUrl,n=t.authToken,o="".concat(e,"/users/me"),i=(0,r.cZ)(n);return{getUser:function(){return fetch(o,(0,r.Ef)(n)).then((0,r.P9)(function(t){return"GET user request returns not ok status: ".concat(t)}))},updateUser:function(t){return fetch(o,i(t)).then((0,r.P9)(function(t){return"PATCH user request returns not ok status: ".concat(t)}))},updateAvatar:function(t){return fetch("".concat(o,"/avatar"),i({avatar:t})).then((0,r.P9)(function(t){return"PATCH avatar request returns not ok status: ".concat(t)})).then(function(t){return t.avatar})}}}},827:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e,n){return(e=function(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{$x:()=>i,B1:()=>a,C1:()=>u,TX:()=>l,d0:()=>c});var i="e157e78d-13db-4e7e-9ca6-c6bca52db205",u="https://nomoreparties.co/v1/".concat("higher-front-back-dev"),a={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE"},c={AUTH:"Authorization",CONTENT_TYPE:"Content-Type"},l=(o({},c.AUTH,i),o({},c.CONTENT_TYPE,"application/json"))},877:(t,e,n)=>{n.d(e,{P:()=>f});var r=n(947),o=n(477);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var u=["nameInput","descriptionInput","profileTitleElement","profileDescriptionElement","form","submitFormButton"];function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,e,n){return(e=function(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return function(e){var n=t.user,i=t.updateUser,a=t.resetValidationErrors,l=t.disableButton,f=e.nameInput,s=e.descriptionInput,d=e.profileTitleElement,m=e.profileDescriptionElement,p=e.form,v=e.submitFormButton,b=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,u);d.textContent=n.name,m.textContent=n.about,f.value=d.textContent,s.value=m.textContent;var y=function(t){d.textContent=t.name,m.textContent=t.about};(0,r.Jn)({elements:c({form:p,submitFormButton:v},b),handlers:{onSubmit:function(){var t=v.textContent;return v.textContent=o.d,v.disabled=!0,i({name:f.value,about:s.value}).then(y).catch(function(t){return console.error("Error updating user profile:",t)}).finally(function(){v.textContent=t})},onOpen:function(){l(v),f.value=d.textContent,s.value=m.textContent},onClose:function(){return a(p)}}})}}},947:(t,e,n)=>{n.d(e,{Jn:()=>u,QH:()=>i,Vg:()=>a});var r=n(672),o=["submitFormButton","openModalButton"],i=function(t){return(0,r.gU)("popup__close",t)},u=function(t){var e=t.elements,n=t.handlers,r=e.submitFormButton,i=e.openModalButton,u=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(e,o),c=n.onSubmit,l=n.onClose,f=n.onOpen,s=a({elements:u,handlers:{onClose:l,onOpen:f}}),d=s.open,m=s.close;i.addEventListener("click",d),r.addEventListener("click",function(t){t.preventDefault(),Promise.resolve(c()).finally(m)})},a=function(t){var e=t.elements,n=t.handlers,o=e.closeModalButton,i=e.modal,u=n.onClose,a=n.onOpen,c=function(){!function(t){t.classList.remove("popup_is-opened")}(i),document.removeEventListener("keydown",l),u()};o.addEventListener("click",c);var l=(0,r.eX)("Escape",c);return i.addEventListener("mousedown",function(t){t.target===i&&c()}),{open:function(){a(),function(t){t.classList.add("popup_is-opened")}(i),document.addEventListener("keydown",l)},close:c}}}},u={};function a(t){var e=u[t];if(void 0!==e)return e.exports;var n=u[t]={exports:{}};return i[t](n,n.exports,a),n.exports}t="function"==typeof Symbol,e=t?Symbol("webpack queues"):"__webpack_queues__",n=t?Symbol("webpack exports"):"__webpack_exports__",r=t?Symbol("webpack error"):"__webpack_error__",o=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},a.a=(t,i,u)=>{var a;u&&((a=[]).d=-1);var c,l,f,s=new Set,d=t.exports,m=new Promise((t,e)=>{f=e,l=t});m[n]=d,m[e]=t=>(a&&t(a),s.forEach(t),m.catch(t=>{})),t.exports=m,i(t=>{var i;c=(t=>t.map(t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var i=[];i.d=0,t.then(t=>{u[n]=t,o(i)},t=>{u[r]=t,o(i)});var u={};return u[e]=t=>t(i),u}}var a={};return a[e]=t=>{},a[n]=t,a}))(t);var u=()=>c.map(t=>{if(t[r])throw t[r];return t[n]}),l=new Promise(t=>{(i=()=>t(u)).r=0;var n=t=>t!==a&&!s.has(t)&&(s.add(t),t&&!t.d&&(i.r++,t.push(i)));c.map(t=>t[e](n))});return i.r?l:u()},t=>(t?f(m[r]=t):l(d),o(a))),a&&a.d<0&&(a.d=0)},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.p="",a(497)})();